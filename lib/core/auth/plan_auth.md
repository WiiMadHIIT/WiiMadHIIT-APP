# WiiMadHIIT è®¤è¯ç³»ç»Ÿè®¾è®¡æ–‡æ¡£

## æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†æè¿°äº† WiiMadHIIT åº”ç”¨çš„å®Œæ•´è®¤è¯ç³»ç»Ÿæ¶æ„ï¼ŒåŒ…æ‹¬ç™»å½•çŠ¶æ€æ£€æµ‹ã€é¡µé¢ä¿æŠ¤ã€è‡ªåŠ¨è·³è½¬å’Œæ•°æ®åŠ è½½ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚è¯¥ç³»ç»Ÿé‡‡ç”¨"å¤§å‚çº§åˆ«"çš„è®¾è®¡ç†å¿µï¼Œæ”¯æŒ Tab é¡µé¢å’Œé Tab é¡µé¢çš„ç»Ÿä¸€è®¤è¯ç®¡ç†ã€‚

## ç³»ç»Ÿæ¶æ„

### æ ¸å¿ƒç»„ä»¶

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è®¤è¯ç³»ç»Ÿæ¶æ„å›¾                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  UI å±‚                                                      â”‚
â”‚  â”œâ”€â”€ ProfilePage (éœ€è¦è®¤è¯çš„é¡µé¢)                           â”‚
â”‚  â”œâ”€â”€ LoginPage (ç™»å½•é¡µé¢)                                   â”‚
â”‚  â””â”€â”€ å…¶ä»–éœ€è¦è®¤è¯çš„é¡µé¢                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  è®¤è¯ä¿æŠ¤å±‚                                                  â”‚
â”‚  â”œâ”€â”€ AuthGuardMixin (é¡µé¢è®¤è¯æ··å…¥)                          â”‚
â”‚  â”œâ”€â”€ AuthGuardWidget (é¡µé¢è®¤è¯ç»„ä»¶)                         â”‚
â”‚  â””â”€â”€ AuthStateManager (è®¤è¯çŠ¶æ€ç®¡ç†)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç½‘ç»œå±‚                                                      â”‚
â”‚  â”œâ”€â”€ DioClient (HTTPå®¢æˆ·ç«¯ + Tokenæ‹¦æˆªå™¨)                    â”‚
â”‚  â””â”€â”€ TokenManagerService (Tokenç®¡ç†æœåŠ¡)                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  å­˜å‚¨å±‚                                                      â”‚
â”‚  â””â”€â”€ FlutterSecureStorage (å®‰å…¨å­˜å‚¨)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ ¸å¿ƒæµç¨‹è¯¦è§£

### 1. é¡µé¢è®¿é—®è®¤è¯æµç¨‹

#### 1.1 Tab é¡µé¢è®¤è¯ (ä»¥ ProfilePage ä¸ºä¾‹)

```dart
// åœ¨ main.dart ä¸­ï¼ŒProfilePage è¢«åŒ…è£…åœ¨ GlobalKey ä¸­
final GlobalKey<ProfilePageState> _profilePageKey = GlobalKey<ProfilePageState>();

// é¡µé¢åˆ‡æ¢æ—¶æ£€æŸ¥è®¤è¯çŠ¶æ€
void _handlePageChange(int newIndex) async {
  // å¤§å‚çº§åˆ«ï¼šä½¿ç”¨ç»Ÿä¸€çš„AuthStateManageræ£€æŸ¥Tabè®¤è¯çŠ¶æ€
  final isTabAuthenticated = await _authManager.checkTabAuth(newIndex);
  
  if (!isTabAuthenticated) {
    // Tabè®¤è¯å¤±è´¥ï¼Œå¤„ç†è®¤è¯é€»è¾‘
    await _authManager.handleTabAuthFailure(context, newIndex);
    return; // ä¿æŒå½“å‰Tabç´¢å¼•ä¸å˜
  }
  
  // è®¤è¯æˆåŠŸï¼Œåˆ‡æ¢é¡µé¢
  setState(() {
    _currentIndex = newIndex;
  });
}
```

#### 1.2 é Tab é¡µé¢è®¤è¯

```dart
// ä½¿ç”¨ AuthGuardMixin æ··å…¥è®¤è¯åŠŸèƒ½
class SomePage extends StatefulWidget {
  @override
  State<SomePage> createState() => _SomePageState();
}

class _SomePageState extends State<SomePage> with AuthGuardMixin {
  @override
  void initState() {
    super.initState(); // è‡ªåŠ¨è°ƒç”¨ _checkAuthOnInit()
  }
  
  @override
  void onAuthSuccess() {
    // è®¤è¯æˆåŠŸåçš„æ•°æ®åŠ è½½é€»è¾‘
    _loadPageData();
  }
}
```

### 2. è®¤è¯çŠ¶æ€æ£€æŸ¥æµç¨‹

#### 2.1 åˆå§‹åŒ–é˜¶æ®µ

```dart
// AuthStateManager.initialize()
Future<void> initialize() async {
  if (_isInitialized) return;
  
  try {
    // æ£€æŸ¥æœ¬åœ°å­˜å‚¨çš„tokençŠ¶æ€
    final tokenStatus = await _tokenManager.getTokenStatus();
    _isLoggedIn = tokenStatus['hasAccessToken'] == true && 
                   tokenStatus['isExpired'] == false;
    
    // åˆå§‹åŒ–Tabè®¤è¯ç¼“å­˜
    _initializeTabAuthCache();
    
    _isInitialized = true;
    notifyListeners();
  } catch (e) {
    _isLoggedIn = false;
    _isInitialized = true;
    notifyListeners();
  }
}
```

#### 2.2 å®æ—¶çŠ¶æ€æ£€æŸ¥

```dart
// AuthStateManager.checkLoginStatus()
Future<bool> checkLoginStatus() async {
  try {
    final tokenStatus = await _tokenManager.getTokenStatus();
    final newLoginStatus = tokenStatus['hasAccessToken'] == true && 
                           tokenStatus['isExpired'] == false;
    
    if (_isLoggedIn != newLoginStatus) {
      _isLoggedIn = newLoginStatus;
      _updateTabAuthCache(newLoginStatus);
      notifyListeners();
    }
    
    return _isLoggedIn;
  } catch (e) {
    _isLoggedIn = false;
    _updateTabAuthCache(false);
    notifyListeners();
    return false;
  }
}
```

### 3. è®¤è¯å¤±è´¥å¤„ç†æµç¨‹

#### 3.1 è®¾ç½®é‡å®šå‘è·¯å¾„

```dart
// å½“é¡µé¢éœ€è¦è®¤è¯ä½†ç”¨æˆ·æœªç™»å½•æ—¶
void _handleUnauthenticated(String routePath) {
  // è®¾ç½®å½“å‰é¡µé¢ä¸ºé‡å®šå‘è·¯å¾„
  _authManager.setRedirectPath(routePath);
  
  // åˆ¤æ–­é¡µé¢ç±»å‹ï¼Œé€‰æ‹©è·³è½¬æ–¹å¼
  final isTabPage = _isTabPage(routePath);
  final navigationMethod = isTabPage ? 'pushNamed' : 'pushReplacementNamed';
  
  // è·³è½¬åˆ°ç™»å½•é¡µé¢
  WidgetsBinding.instance.addPostFrameCallback((_) {
    if (mounted) {
      final arguments = _authManager.getLoginArguments();
      if (isTabPage) {
        Navigator.of(context).pushNamed(_authManager.getLoginRoute(), arguments: arguments);
      } else {
        Navigator.of(context).pushReplacementNamed(_authManager.getLoginRoute(), arguments: arguments);
      }
    }
  });
}
```

#### 3.2 ç™»å½•é¡µé¢æ¥æ”¶é‡å®šå‘ä¿¡æ¯

```dart
// LoginPage æ„é€ å‡½æ•°æ¥æ”¶é‡å®šå‘è·¯å¾„
class LoginPage extends StatefulWidget {
  final String? redirectPath;
  
  const LoginPage({Key? key, this.redirectPath}) : super(key: key);
  
  @override
  State<LoginPage> createState() => _LoginPageState();
}

// åœ¨ initState ä¸­è®¾ç½®åˆ°è®¤è¯çŠ¶æ€ç®¡ç†å™¨
@override
void initState() {
  super.initState();
  if (widget.redirectPath != null) {
    _authManager.setRedirectPath(widget.redirectPath);
  }
}
```

### 4. ç™»å½•æˆåŠŸåçš„å¤„ç†æµç¨‹

#### 4.1 ç™»å½•éªŒè¯æˆåŠŸ

```dart
// LoginPage._onLoginPressed()
Future<void> _onLoginPressed() async {
  // ... éªŒè¯é€»è¾‘ ...
  
  if (success) {
    _showTopBanner('Login successful! Welcome back! ğŸ‰',
        bgColor: Colors.green, icon: Icons.check_circle);
    
    await Future.delayed(const Duration(milliseconds: 500));
    
    if (mounted) {
      // å¤§å‚çº§åˆ«ï¼šä½¿ç”¨ AuthStateManager å¤„ç†é‡å®šå‘é€»è¾‘
      final redirectPath = _authManager.redirectPath;
      if (redirectPath != null) {
        // æœ‰é‡å®šå‘è·¯å¾„ï¼Œä½¿ç”¨ AuthStateManager å¤„ç†è·³è½¬
        await _authManager.handleLoginSuccess(context);
      } else {
        // æ²¡æœ‰é‡å®šå‘è·¯å¾„ï¼Œè¿”å›åˆ°ä¸»Tab
        Navigator.of(context).popUntil((route) => route.isFirst);
      }
    }
  }
}
```

#### 4.2 é‡å®šå‘å›åŸé¡µé¢

```dart
// AuthStateManager.handleLoginSuccess()
Future<void> handleLoginSuccess(BuildContext context) async {
  if (_redirectPath != null) {
    final redirectPath = _redirectPath!; // ä½¿ç”¨éç©ºæ–­è¨€
    _redirectPath = null; // æ¸…é™¤é‡å®šå‘è·¯å¾„
    
    print('ğŸ” AuthStateManager: ç™»å½•æˆåŠŸï¼Œè·³è½¬å›åŸé¡µé¢: $redirectPath');
    
    // ä½¿ç”¨ pushReplacementNamed æ›¿æ¢å½“å‰é¡µé¢
    await Navigator.of(context).pushReplacementNamed(redirectPath);
  } else {
    // æ²¡æœ‰é‡å®šå‘è·¯å¾„ï¼Œè¿”å›ä¸»Tab
    Navigator.of(context).popUntil((route) => route.isFirst);
  }
}
```

### 5. é¡µé¢æ•°æ®è‡ªåŠ¨åŠ è½½æµç¨‹

#### 5.1 è®¤è¯æˆåŠŸåçš„æ•°æ®åŠ è½½

```dart
// AuthGuardMixin.onAuthSuccess()
void onAuthSuccess() {
  // ä½¿ç”¨ WidgetsBinding.instance.addPostFrameCallback ç¡®ä¿é¡µé¢å®Œå…¨æ„å»ºåå†åŠ è½½æ•°æ®
  WidgetsBinding.instance.addPostFrameCallback((_) {
    if (mounted) {
      _loadPageDataAfterAuth();
    }
  });
}

// æ ¹æ®é¡µé¢ç±»å‹æ‰§è¡Œç›¸åº”çš„æ•°æ®åŠ è½½
void _loadPageDataAfterAuth() {
  try {
    final currentRoute = ModalRoute.of(context)?.settings.name ?? '/';
    if (currentRoute == '/profile') {
      // å»¶è¿Ÿæ‰§è¡Œï¼Œç¡®ä¿é¡µé¢å®Œå…¨æ„å»º
      Future.delayed(const Duration(milliseconds: 100), () {
        if (mounted) {
          try {
            final viewModel = Provider.of<ProfileViewModel>(context, listen: false);
            print('ğŸ” AuthGuardMixin: è®¤è¯æˆåŠŸï¼Œå¼€å§‹åŠ è½½Profileæ•°æ®');
            viewModel.loadProfile();
          } catch (e) {
            print('ğŸ” AuthGuardMixin: è°ƒç”¨ProfileViewModelå¤±è´¥: $e');
          }
        }
      });
    }
  } catch (e) {
    print('ğŸ” AuthGuardMixin: è®¤è¯æˆåŠŸååŠ è½½æ•°æ®å¤±è´¥: $e');
  }
}
```

#### 5.2 ProfilePage çš„è®¤è¯çŠ¶æ€ç›‘å¬

```dart
// ProfilePageContentState
@override
void initState() {
  super.initState();
  // ç›‘å¬è®¤è¯çŠ¶æ€å˜åŒ–
  _authManager.addListener(_onAuthStateChanged);
}

/// ç›‘å¬è®¤è¯çŠ¶æ€å˜åŒ–
void _onAuthStateChanged() {
  if (_authManager.isLoggedIn && mounted) {
    // è®¤è¯çŠ¶æ€å˜ä¸ºå·²ç™»å½•æ—¶ï¼Œé‡æ–°åŠ è½½æ•°æ®
    WidgetsBinding.instance.addPostFrameCallback((_) {
      if (mounted) {
        final viewModel = Provider.of<ProfileViewModel>(context, listen: false);
        print('ğŸ” ProfilePage: è®¤è¯çŠ¶æ€å˜åŒ–ï¼Œé‡æ–°åŠ è½½æ•°æ®');
        viewModel.loadProfile();
      }
    });
  }
}

/// è®¤è¯æˆåŠŸåçš„å¤„ç†
@override
void onAuthSuccess() {
  super.onAuthSuccess();
  
  // ä½¿ç”¨å»¶è¿Ÿç¡®ä¿é¡µé¢å®Œå…¨æ„å»º
  Future.delayed(const Duration(milliseconds: 100), () {
    if (mounted) {
      final viewModel = Provider.of<ProfileViewModel>(context, listen: false);
      print('ğŸ” ProfilePage: è®¤è¯æˆåŠŸï¼Œå¼€å§‹åŠ è½½æ•°æ®');
      viewModel.loadProfile();
    }
  });
}
```

## å…³é”®è®¾è®¡åŸåˆ™

### 1. ç»Ÿä¸€è®¤è¯ç®¡ç†

- **å•ä¾‹æ¨¡å¼**: `AuthStateManager` é‡‡ç”¨å•ä¾‹æ¨¡å¼ï¼Œç¡®ä¿å…¨å±€çŠ¶æ€ä¸€è‡´æ€§
- **é›†ä¸­å¼é…ç½®**: æ‰€æœ‰è®¤è¯ç›¸å…³çš„é…ç½®éƒ½åœ¨ `AuthStateManager` ä¸­ç®¡ç†
- **ç»Ÿä¸€æ¥å£**: æä¾›ç»Ÿä¸€çš„è®¤è¯æ£€æŸ¥ã€çŠ¶æ€ç®¡ç†å’Œé‡å®šå‘å¤„ç†æ¥å£

### 2. æ™ºèƒ½é¡µé¢ç±»å‹è¯†åˆ«

```dart
/// åˆ¤æ–­æ˜¯å¦ä¸ºTabé¡µé¢
bool _isTabPage(String routePath) {
  // å®šä¹‰Tabé¡µé¢çš„è·¯å¾„
  final tabPaths = ['/profile', '/challenge', '/checkin', '/bonus'];
  return tabPaths.contains(routePath);
}
```

- **Tabé¡µé¢**: ä½¿ç”¨ `pushNamed` ä¿æŒTabç»“æ„
- **æ™®é€šé¡µé¢**: ä½¿ç”¨ `pushReplacementNamed` æ›¿æ¢å½“å‰é¡µé¢

### 3. çŠ¶æ€åŒæ­¥æœºåˆ¶

```dart
// åœ¨ setLoginStatus ä¸­å»¶è¿Ÿé€šçŸ¥ï¼Œç¡®ä¿é¡µé¢çŠ¶æ€å·²æ›´æ–°
if (isLoggedIn) {
  _redirectPath = null;
  print('ğŸ” AuthStateManager: ç™»å½•æˆåŠŸï¼Œæ¸…é™¤é‡å®šå‘è·¯å¾„');
  
  // å»¶è¿Ÿé€šçŸ¥ï¼Œç¡®ä¿é¡µé¢çŠ¶æ€å·²æ›´æ–°
  Future.delayed(const Duration(milliseconds: 50), () {
    notifyListeners();
  });
}
```

### 4. ç”Ÿå‘½å‘¨æœŸç®¡ç†

- **WidgetsBinding.instance.addPostFrameCallback**: ç¡®ä¿åœ¨æ­£ç¡®çš„æ—¶æœºæ‰§è¡Œæ“ä½œ
- **mounted æ£€æŸ¥**: é˜²æ­¢åœ¨Widgeté”€æ¯åæ‰§è¡Œæ“ä½œ
- **å»¶è¿Ÿæ‰§è¡Œ**: ä½¿ç”¨ `Future.delayed` ç¡®ä¿é¡µé¢å®Œå…¨æ„å»º

## ä½¿ç”¨æ–¹æ³•

### 1. ä¸ºç°æœ‰é¡µé¢æ·»åŠ è®¤è¯ä¿æŠ¤

```dart
// æ–¹æ³•1: ä½¿ç”¨ AuthGuardMixin (æ¨è)
class MyPage extends StatefulWidget {
  @override
  State<MyPage> createState() => _MyPageState();
}

class _MyPageState extends State<MyPage> with AuthGuardMixin {
  @override
  void onAuthSuccess() {
    // è®¤è¯æˆåŠŸåçš„æ•°æ®åŠ è½½é€»è¾‘
    _loadData();
  }
}

// æ–¹æ³•2: ä½¿ç”¨ AuthGuardWidget
class MyPage extends StatelessWidget {
  @override
  Widget build(BuildContext context) {
    return AuthGuardWidget(
      redirectPath: '/my-page',
      child: Scaffold(
        // é¡µé¢å†…å®¹
      ),
    );
  }
}
```

### 2. è‡ªå®šä¹‰è®¤è¯é€»è¾‘

```dart
class _MyPageState extends State<MyPage> with AuthGuardMixin {
  @override
  Future<bool> checkAuthStatus() async {
    // è‡ªå®šä¹‰è®¤è¯æ£€æŸ¥é€»è¾‘
    final isAuthenticated = await _customAuthCheck();
    
    if (!isAuthenticated) {
      _handleUnauthenticated('/my-page');
    }
    return isAuthenticated;
  }
  
  @override
  void onAuthSuccess() {
    // è‡ªå®šä¹‰è®¤è¯æˆåŠŸå¤„ç†
    _loadCustomData();
  }
}
```

### 3. å¤„ç†ç‰¹æ®Šè®¤è¯éœ€æ±‚

```dart
// åœ¨ AuthStateManager ä¸­æ·»åŠ è‡ªå®šä¹‰é€»è¾‘
class AuthStateManager extends ChangeNotifier {
  // è‡ªå®šä¹‰è®¤è¯æ£€æŸ¥
  Future<bool> checkCustomAuth(String customParam) async {
    // å®ç°è‡ªå®šä¹‰è®¤è¯é€»è¾‘
    return await _customAuthService.check(customParam);
  }
  
  // è‡ªå®šä¹‰é‡å®šå‘å¤„ç†
  Future<void> handleCustomRedirect(BuildContext context, String customPath) async {
    // å®ç°è‡ªå®šä¹‰é‡å®šå‘é€»è¾‘
  }
}
```

## é”™è¯¯å¤„ç†å’Œè°ƒè¯•

### 1. å¸¸è§é—®é¢˜æ’æŸ¥

- **Tokenè¿‡æœŸ**: æ£€æŸ¥ `TokenManagerService.getTokenStatus()` è¿”å›å€¼
- **é‡å®šå‘å¤±è´¥**: æ£€æŸ¥ `_redirectPath` æ˜¯å¦æ­£ç¡®è®¾ç½®
- **æ•°æ®åŠ è½½å¤±è´¥**: æ£€æŸ¥ `onAuthSuccess` æ˜¯å¦æ­£ç¡®å®ç°

### 2. è°ƒè¯•æŠ€å·§

```dart
// åœ¨å…³é”®ä½ç½®æ·»åŠ æ—¥å¿—
print('ğŸ” AuthStateManager: è®¾ç½®é‡å®šå‘è·¯å¾„: $_redirectPath');
print('ğŸ” ProfilePage: è®¤è¯çŠ¶æ€å˜åŒ–ï¼Œé‡æ–°åŠ è½½æ•°æ®');
print('ğŸ” AuthGuardMixin: è®¤è¯æˆåŠŸï¼Œå¼€å§‹åŠ è½½æ•°æ®');
```

### 3. çŠ¶æ€ç›‘æ§

```dart
// ç›‘å¬è®¤è¯çŠ¶æ€å˜åŒ–
_authManager.addListener(() {
  print('ğŸ” è®¤è¯çŠ¶æ€å˜åŒ–: ${_authManager.isLoggedIn}');
  print('ğŸ” é‡å®šå‘è·¯å¾„: ${_authManager.redirectPath}');
});
```

## æ€»ç»“

è¿™å¥—è®¤è¯ç³»ç»Ÿé€šè¿‡ä»¥ä¸‹æ ¸å¿ƒæœºåˆ¶å®ç°äº†å®Œæ•´çš„ç™»å½•è®¤è¯æ£€æµ‹å’Œè‡ªåŠ¨è·³è½¬åŠŸèƒ½ï¼š

1. **ç»Ÿä¸€çŠ¶æ€ç®¡ç†**: `AuthStateManager` ä½œä¸ºæ ¸å¿ƒï¼Œç®¡ç†æ‰€æœ‰è®¤è¯ç›¸å…³çŠ¶æ€
2. **æ™ºèƒ½é¡µé¢ä¿æŠ¤**: `AuthGuardMixin` å’Œ `AuthGuardWidget` æä¾›çµæ´»çš„é¡µé¢ä¿æŠ¤æ–¹æ¡ˆ
3. **è‡ªåŠ¨é‡å®šå‘**: è‡ªåŠ¨è®°å½•åŸé¡µé¢è·¯å¾„ï¼Œç™»å½•æˆåŠŸåæ™ºèƒ½è·³è½¬
4. **æ•°æ®è‡ªåŠ¨åŠ è½½**: è®¤è¯æˆåŠŸåè‡ªåŠ¨è§¦å‘é¡µé¢æ•°æ®åŠ è½½
5. **ç”Ÿå‘½å‘¨æœŸç®¡ç†**: æ­£ç¡®å¤„ç†Flutteré¡µé¢çš„ç”Ÿå‘½å‘¨æœŸï¼Œé¿å…çŠ¶æ€ä¸ä¸€è‡´

é€šè¿‡è¿™å¥—ç³»ç»Ÿï¼Œå¼€å‘è€…å¯ä»¥è½»æ¾ä¸ºä»»ä½•é¡µé¢æ·»åŠ è®¤è¯ä¿æŠ¤ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨å¤„ç†ç™»å½•è·³è½¬ã€çŠ¶æ€åŒæ­¥å’Œæ•°æ®åŠ è½½ç­‰å¤æ‚é€»è¾‘ï¼Œå¤§å¤§ç®€åŒ–äº†è®¤è¯ç›¸å…³çš„å¼€å‘å·¥ä½œã€‚
